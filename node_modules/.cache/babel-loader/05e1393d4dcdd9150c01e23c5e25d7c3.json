{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sinem Morzambak\\\\Desktop\\\\my-OBSS-proejct\\\\src\\\\pages\\\\acricle\\\\components\\\\FormComment.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from 'react';\nimport useFetch from '../../../hooks/useFetch';\nimport { CurrentUserContext } from '../../../context/currentUser';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst FormComment = _ref => {\n  _s();\n\n  let {\n    slug\n  } = _ref;\n  const apiUrl = `/articles/${slug}/comments`;\n  const [currentUserState] = useContext(CurrentUserContext);\n  const [response, doFetch] = useFetch(apiUrl);\n  const [comment, setComment] = useState('');\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    doFetch({\n      method: 'post',\n      data: {\n        comment: {\n          body: comment\n        }\n      }\n    });\n  };\n\n  if (response.isLoading || response === null) {\n    setTimeout(() => document.location.reload(), 1000);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"card comment-form ng-untouched ng-pristine ng-valid\",\n    onSubmit: handleSubmit,\n    children: /*#__PURE__*/_jsxDEV(\"fieldset\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-block\",\n        children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n          className: \"form-control ng-untouched ng-pristine ng-valid\",\n          placeholder: \"Write a comment...\",\n          rows: \"3\",\n          value: comment,\n          onChange: e => setComment(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-footer\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"comment-author-img\",\n          src: currentUserState.currentUser && currentUserState.currentUser.username ? currentUserState.currentUser.image : 'https://api.realworld.io/images/smiley-cyrus.jpeg',\n          alt: \"profile pic\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-sm btn-primary\",\n          type: \"submit\",\n          children: \" Post Comment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 3\n  }, this);\n};\n\n_s(FormComment, \"oeGX1WFLA0hF0ct/NEuwgSqA4As=\", false, function () {\n  return [useFetch];\n});\n\n_c = FormComment;\nexport default FormComment;\n\nvar _c;\n\n$RefreshReg$(_c, \"FormComment\");","map":{"version":3,"names":["React","useContext","useState","useFetch","CurrentUserContext","FormComment","slug","apiUrl","currentUserState","response","doFetch","comment","setComment","handleSubmit","e","preventDefault","method","data","body","isLoading","setTimeout","document","location","reload","target","value","currentUser","username","image"],"sources":["C:/Users/Sinem Morzambak/Desktop/my-OBSS-proejct/src/pages/acricle/components/FormComment.jsx"],"sourcesContent":["import React, { useContext, useState } from 'react'\r\nimport useFetch from '../../../hooks/useFetch'\r\nimport { CurrentUserContext } from '../../../context/currentUser'\r\n\r\nconst FormComment = ({ slug }) => {\r\n\tconst apiUrl = `/articles/${slug}/comments`\r\n\tconst [currentUserState] = useContext(CurrentUserContext)\r\n\tconst [response, doFetch] = useFetch(apiUrl)\r\n\tconst [comment, setComment] = useState('')\r\n\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault()\r\n\t\tdoFetch({\r\n\t\t\tmethod: 'post',\r\n\t\t\tdata: {\r\n\t\t\t\tcomment: {\r\n\t\t\t\t\tbody: comment,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t})\r\n\t}\r\n\r\n\tif (response.isLoading || response === null) {\r\n\t\tsetTimeout(() => document.location.reload(), 1000)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<form className='card comment-form ng-untouched ng-pristine ng-valid' onSubmit={handleSubmit}>\r\n\t\t\t<fieldset>\r\n\t\t\t\t<div className='card-block'>\r\n\t\t\t\t\t<textarea className='form-control ng-untouched ng-pristine ng-valid'\r\n\t\t\t\t\t          placeholder='Write a comment...' rows='3' value={comment}\r\n\t\t\t\t\t          onChange={(e) => setComment(e.target.value)} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='card-footer'>\r\n\t\t\t\t\t<img className='comment-author-img'\r\n\t\t\t\t\t     src={currentUserState.currentUser && currentUserState.currentUser.username ? currentUserState.currentUser.image : 'https://api.realworld.io/images/smiley-cyrus.jpeg'}\r\n\t\t\t\t\t     alt='profile pic' />\r\n\t\t\t\t\t<button className='btn btn-sm btn-primary' type='submit'> Post Comment\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</fieldset>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nexport default FormComment"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,QAA4C,OAA5C;AACA,OAAOC,QAAP,MAAqB,yBAArB;AACA,SAASC,kBAAT,QAAmC,8BAAnC;;;AAEA,MAAMC,WAAW,GAAG,QAAc;EAAA;;EAAA,IAAb;IAAEC;EAAF,CAAa;EACjC,MAAMC,MAAM,GAAI,aAAYD,IAAK,WAAjC;EACA,MAAM,CAACE,gBAAD,IAAqBP,UAAU,CAACG,kBAAD,CAArC;EACA,MAAM,CAACK,QAAD,EAAWC,OAAX,IAAsBP,QAAQ,CAACI,MAAD,CAApC;EACA,MAAM,CAACI,OAAD,EAAUC,UAAV,IAAwBV,QAAQ,CAAC,EAAD,CAAtC;;EAEA,MAAMW,YAAY,GAAIC,CAAD,IAAO;IAC3BA,CAAC,CAACC,cAAF;IACAL,OAAO,CAAC;MACPM,MAAM,EAAE,MADD;MAEPC,IAAI,EAAE;QACLN,OAAO,EAAE;UACRO,IAAI,EAAEP;QADE;MADJ;IAFC,CAAD,CAAP;EAQA,CAVD;;EAYA,IAAIF,QAAQ,CAACU,SAAT,IAAsBV,QAAQ,KAAK,IAAvC,EAA6C;IAC5CW,UAAU,CAAC,MAAMC,QAAQ,CAACC,QAAT,CAAkBC,MAAlB,EAAP,EAAmC,IAAnC,CAAV;EACA;;EAED,oBACC;IAAM,SAAS,EAAC,qDAAhB;IAAsE,QAAQ,EAAEV,YAAhF;IAAA,uBACC;MAAA,wBACC;QAAK,SAAS,EAAC,YAAf;QAAA,uBACC;UAAU,SAAS,EAAC,gDAApB;UACU,WAAW,EAAC,oBADtB;UAC2C,IAAI,EAAC,GADhD;UACoD,KAAK,EAAEF,OAD3D;UAEU,QAAQ,EAAGG,CAAD,IAAOF,UAAU,CAACE,CAAC,CAACU,MAAF,CAASC,KAAV;QAFrC;UAAA;UAAA;UAAA;QAAA;MADD;QAAA;QAAA;QAAA;MAAA,QADD,eAMC;QAAK,SAAS,EAAC,aAAf;QAAA,wBACC;UAAK,SAAS,EAAC,oBAAf;UACK,GAAG,EAAEjB,gBAAgB,CAACkB,WAAjB,IAAgClB,gBAAgB,CAACkB,WAAjB,CAA6BC,QAA7D,GAAwEnB,gBAAgB,CAACkB,WAAjB,CAA6BE,KAArG,GAA6G,mDADvH;UAEK,GAAG,EAAC;QAFT;UAAA;UAAA;UAAA;QAAA,QADD,eAIC;UAAQ,SAAS,EAAC,wBAAlB;UAA2C,IAAI,EAAC,QAAhD;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAJD;MAAA;QAAA;QAAA;QAAA;MAAA,QAND;IAAA;MAAA;MAAA;MAAA;IAAA;EADD;IAAA;IAAA;IAAA;EAAA,QADD;AAkBA,CAxCD;;GAAMvB,W;UAGuBF,Q;;;KAHvBE,W;AA0CN,eAAeA,WAAf"},"metadata":{},"sourceType":"module"}