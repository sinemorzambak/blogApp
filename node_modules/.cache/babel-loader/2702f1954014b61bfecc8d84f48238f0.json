{"ast":null,"code":"import _slicedToArray from\"C:/Users/Sinem Morzambak/Desktop/my-OBSS-proejct/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useEffect}from'react';import useFetch from'../../../hooks/useFetch';import{Link,useParams}from'react-router-dom';import FormComment from'./FormComment';import getDate from'../../../js/getDate';import{CurrentUserContext}from'../../../context/currentUser';import CommentDelete from'./CommentDelete';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Comments=function Comments(){var _useParams=useParams(),slug=_useParams.slug;var apiUrl=\"/articles/\".concat(slug,\"/comments\");var _useFetch=useFetch(apiUrl),_useFetch2=_slicedToArray(_useFetch,2),response=_useFetch2[0].response,doFetch=_useFetch2[1];var _useContext=useContext(CurrentUserContext),_useContext2=_slicedToArray(_useContext,1),currentUserState=_useContext2[0];useEffect(function(){doFetch({method:'get'});},[doFetch]);if(!response){return null;}return/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-xs-12 col-md-8 offset-md-2\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(FormComment,{slug:slug})}),response.comments.map(function(comment,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-block\",children:/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:comment.body})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-footer\",children:[/*#__PURE__*/_jsx(Link,{className:\"comment-author\",to:\"/profiles/\".concat(comment.author.username),children:/*#__PURE__*/_jsx(\"img\",{className:\"comment-author-img\",src:comment.author.image,alt:\"author pic\"})}),/*#__PURE__*/_jsx(Link,{className:\"comment-author\",to:\"/profiles/\".concat(comment.author.username),style:{marginLeft:'10px'},children:comment.author.username}),/*#__PURE__*/_jsx(\"span\",{className:\"date-posted\",children:getDate(comment.createdAt)}),currentUserState.currentUser&&currentUserState.currentUser.username&&comment.author.username===currentUserState.currentUser.username&&/*#__PURE__*/_jsx(\"span\",{className:\"mod-options\",children:/*#__PURE__*/_jsx(CommentDelete,{slug:slug,id:comment.id})})]})]},index);})]})});};export default Comments;","map":{"version":3,"names":["React","useContext","useEffect","useFetch","Link","useParams","FormComment","getDate","CurrentUserContext","CommentDelete","Comments","slug","apiUrl","response","doFetch","currentUserState","method","comments","map","comment","index","body","author","username","image","marginLeft","createdAt","currentUser","id"],"sources":["C:/Users/Sinem Morzambak/Desktop/my-OBSS-proejct/src/pages/acricle/components/Comments.jsx"],"sourcesContent":["import React, { useContext, useEffect } from 'react'\r\nimport useFetch from '../../../hooks/useFetch'\r\nimport { Link, useParams } from 'react-router-dom'\r\nimport FormComment from './FormComment'\r\nimport getDate from '../../../js/getDate'\r\nimport { CurrentUserContext } from '../../../context/currentUser'\r\nimport CommentDelete from './CommentDelete'\r\n\r\nconst Comments = () => {\r\n\tconst { slug } = useParams()\r\n\tconst apiUrl = `/articles/${slug}/comments`\r\n\tconst [{ response }, doFetch] = useFetch(apiUrl)\r\n\r\n\tconst [currentUserState] = useContext(CurrentUserContext)\r\n\r\n\tuseEffect(() => {\r\n\t\tdoFetch({\r\n\t\t\tmethod: 'get',\r\n\t\t})\r\n\t}, [doFetch])\r\n\r\n\tif (!response) {\r\n\t\treturn null\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='row'>\r\n\t\t\t<div className='col-xs-12 col-md-8 offset-md-2'>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<FormComment slug={slug} />\r\n\t\t\t\t</div>\r\n\t\t\t\t{response.comments.map((comment, index) => (\r\n\t\t\t\t\t<div className='card' key={index}>\r\n\t\t\t\t\t\t<div className='card-block'><p className='card-text'>{comment.body}</p></div>\r\n\t\t\t\t\t\t<div className='card-footer'>\r\n\t\t\t\t\t\t\t<Link className='comment-author' to={`/profiles/${comment.author.username}`}>\r\n\t\t\t\t\t\t\t\t<img className='comment-author-img' src={comment.author.image} alt='author pic' />\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t<Link className='comment-author'\r\n\t\t\t\t\t\t\t      to={`/profiles/${comment.author.username}`}\r\n\t\t\t\t\t\t\t      style={{ marginLeft: '10px' }}>{comment.author.username}</Link>\r\n\t\t\t\t\t\t\t<span className='date-posted'>{getDate(comment.createdAt)}</span>\r\n\t\t\t\t\t\t\t{currentUserState.currentUser && currentUserState.currentUser.username && comment.author.username === currentUserState.currentUser.username && (\r\n\t\t\t\t\t\t\t\t<span className='mod-options'><CommentDelete slug={slug} id={comment.id} /></span>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Comments"],"mappings":"sIAAA,MAAOA,MAAP,EAAgBC,UAAhB,CAA4BC,SAA5B,KAA6C,OAA7C,CACA,MAAOC,SAAP,KAAqB,yBAArB,CACA,OAASC,IAAT,CAAeC,SAAf,KAAgC,kBAAhC,CACA,MAAOC,YAAP,KAAwB,eAAxB,CACA,MAAOC,QAAP,KAAoB,qBAApB,CACA,OAASC,kBAAT,KAAmC,8BAAnC,CACA,MAAOC,cAAP,KAA0B,iBAA1B,C,wFAEA,GAAMC,SAAQ,CAAG,QAAXA,SAAW,EAAM,CACtB,eAAiBL,SAAS,EAA1B,CAAQM,IAAR,YAAQA,IAAR,CACA,GAAMC,OAAM,qBAAgBD,IAAhB,aAAZ,CACA,cAAgCR,QAAQ,CAACS,MAAD,CAAxC,wCAASC,QAAT,eAASA,QAAT,CAAqBC,OAArB,eAEA,gBAA2Bb,UAAU,CAACO,kBAAD,CAArC,4CAAOO,gBAAP,iBAEAb,SAAS,CAAC,UAAM,CACfY,OAAO,CAAC,CACPE,MAAM,CAAE,KADD,CAAD,CAAP,CAGA,CAJQ,CAIN,CAACF,OAAD,CAJM,CAAT,CAMA,GAAI,CAACD,QAAL,CAAe,CACd,MAAO,KAAP,CACA,CAED,mBACC,YAAK,SAAS,CAAC,KAAf,uBACC,aAAK,SAAS,CAAC,gCAAf,wBACC,kCACC,KAAC,WAAD,EAAa,IAAI,CAAEF,IAAnB,EADD,EADD,CAIEE,QAAQ,CAACI,QAAT,CAAkBC,GAAlB,CAAsB,SAACC,OAAD,CAAUC,KAAV,qBACtB,aAAK,SAAS,CAAC,MAAf,wBACC,YAAK,SAAS,CAAC,YAAf,uBAA4B,UAAG,SAAS,CAAC,WAAb,UAA0BD,OAAO,CAACE,IAAlC,EAA5B,EADD,cAEC,aAAK,SAAS,CAAC,aAAf,wBACC,KAAC,IAAD,EAAM,SAAS,CAAC,gBAAhB,CAAiC,EAAE,qBAAeF,OAAO,CAACG,MAAR,CAAeC,QAA9B,CAAnC,uBACC,YAAK,SAAS,CAAC,oBAAf,CAAoC,GAAG,CAAEJ,OAAO,CAACG,MAAR,CAAeE,KAAxD,CAA+D,GAAG,CAAC,YAAnE,EADD,EADD,cAIC,KAAC,IAAD,EAAM,SAAS,CAAC,gBAAhB,CACM,EAAE,qBAAeL,OAAO,CAACG,MAAR,CAAeC,QAA9B,CADR,CAEM,KAAK,CAAE,CAAEE,UAAU,CAAE,MAAd,CAFb,UAEsCN,OAAO,CAACG,MAAR,CAAeC,QAFrD,EAJD,cAOC,aAAM,SAAS,CAAC,aAAhB,UAA+BhB,OAAO,CAACY,OAAO,CAACO,SAAT,CAAtC,EAPD,CAQEX,gBAAgB,CAACY,WAAjB,EAAgCZ,gBAAgB,CAACY,WAAjB,CAA6BJ,QAA7D,EAAyEJ,OAAO,CAACG,MAAR,CAAeC,QAAf,GAA4BR,gBAAgB,CAACY,WAAjB,CAA6BJ,QAAlI,eACA,aAAM,SAAS,CAAC,aAAhB,uBAA8B,KAAC,aAAD,EAAe,IAAI,CAAEZ,IAArB,CAA2B,EAAE,CAAEQ,OAAO,CAACS,EAAvC,EAA9B,EATF,GAFD,GAA2BR,KAA3B,CADsB,EAAtB,CAJF,GADD,EADD,CA0BA,CA3CD,CA6CA,cAAeV,SAAf"},"metadata":{},"sourceType":"module"}