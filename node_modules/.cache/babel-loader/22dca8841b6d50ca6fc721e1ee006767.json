{"ast":null,"code":"import _slicedToArray from\"C:/Users/Sinem Morzambak/Desktop/blogApp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useState}from'react';import useFetch from'../../../hooks/useFetch';import{CurrentUserContext}from'../../../context/currentUser';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FormComment=function FormComment(_ref){var slug=_ref.slug;var apiUrl=\"/articles/\".concat(slug,\"/comments\");var _useContext=useContext(CurrentUserContext),_useContext2=_slicedToArray(_useContext,1),currentUserState=_useContext2[0];var _useFetch=useFetch(apiUrl),_useFetch2=_slicedToArray(_useFetch,2),response=_useFetch2[0],doFetch=_useFetch2[1];var _useState=useState(''),_useState2=_slicedToArray(_useState,2),comment=_useState2[0],setComment=_useState2[1];var handleSubmit=function handleSubmit(e){e.preventDefault();doFetch({method:'post',data:{comment:{body:comment}}});};if(response.isLoading||response===null){setTimeout(function(){return document.location.reload();},1000);}return/*#__PURE__*/_jsx(\"form\",{className:\"card comment-form ng-untouched ng-pristine ng-valid\",onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"fieldset\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-block\",children:/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control ng-untouched ng-pristine ng-valid\",placeholder:\"Write a comment...\",rows:\"3\",value:comment,onChange:function onChange(e){return setComment(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-primary\",type:\"submit\",children:\" Post Comment\"})})]})});};export default FormComment;","map":{"version":3,"names":["React","useContext","useState","useFetch","CurrentUserContext","FormComment","slug","apiUrl","currentUserState","response","doFetch","comment","setComment","handleSubmit","e","preventDefault","method","data","body","isLoading","setTimeout","document","location","reload","target","value"],"sources":["C:/Users/Sinem Morzambak/Desktop/blogApp/src/pages/acricle/components/FormComment.jsx"],"sourcesContent":["import React, { useContext, useState } from 'react'\r\nimport useFetch from '../../../hooks/useFetch'\r\nimport { CurrentUserContext } from '../../../context/currentUser'\r\n\r\nconst FormComment = ({ slug }) => {\r\n\tconst apiUrl = `/articles/${slug}/comments`\r\n\tconst [currentUserState] = useContext(CurrentUserContext)\r\n\tconst [response, doFetch] = useFetch(apiUrl)\r\n\tconst [comment, setComment] = useState('')\r\n\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault()\r\n\t\tdoFetch({\r\n\t\t\tmethod: 'post',\r\n\t\t\tdata: {\r\n\t\t\t\tcomment: {\r\n\t\t\t\t\tbody: comment,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t})\r\n\t}\r\n\r\n\tif (response.isLoading || response === null) {\r\n\t\tsetTimeout(() => document.location.reload(), 1000)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<form className='card comment-form ng-untouched ng-pristine ng-valid' onSubmit={handleSubmit}>\r\n\t\t\t<fieldset>\r\n\t\t\t\t<div className='card-block'>\r\n\t\t\t\t\t<textarea className='form-control ng-untouched ng-pristine ng-valid'\r\n\t\t\t\t\t          placeholder='Write a comment...' rows='3' value={comment}\r\n\t\t\t\t\t          onChange={(e) => setComment(e.target.value)} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='card-footer'>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<button className='btn btn-sm btn-primary' type='submit'> Post Comment\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</fieldset>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nexport default FormComment"],"mappings":"8HAAA,MAAOA,MAAP,EAAgBC,UAAhB,CAA4BC,QAA5B,KAA4C,OAA5C,CACA,MAAOC,SAAP,KAAqB,yBAArB,CACA,OAASC,kBAAT,KAAmC,8BAAnC,C,wFAEA,GAAMC,YAAW,CAAG,QAAdA,YAAc,MAAc,IAAXC,KAAW,MAAXA,IAAW,CACjC,GAAMC,OAAM,qBAAgBD,IAAhB,aAAZ,CACA,gBAA2BL,UAAU,CAACG,kBAAD,CAArC,4CAAOI,gBAAP,iBACA,cAA4BL,QAAQ,CAACI,MAAD,CAApC,wCAAOE,QAAP,eAAiBC,OAAjB,eACA,cAA8BR,QAAQ,CAAC,EAAD,CAAtC,wCAAOS,OAAP,eAAgBC,UAAhB,eAEA,GAAMC,aAAY,CAAG,QAAfA,aAAe,CAACC,CAAD,CAAO,CAC3BA,CAAC,CAACC,cAAF,GACAL,OAAO,CAAC,CACPM,MAAM,CAAE,MADD,CAEPC,IAAI,CAAE,CACLN,OAAO,CAAE,CACRO,IAAI,CAAEP,OADE,CADJ,CAFC,CAAD,CAAP,CAQA,CAVD,CAYA,GAAIF,QAAQ,CAACU,SAAT,EAAsBV,QAAQ,GAAK,IAAvC,CAA6C,CAC5CW,UAAU,CAAC,iBAAMC,SAAQ,CAACC,QAAT,CAAkBC,MAAlB,EAAN,EAAD,CAAmC,IAAnC,CAAV,CACA,CAED,mBACC,aAAM,SAAS,CAAC,qDAAhB,CAAsE,QAAQ,CAAEV,YAAhF,uBACC,yCACC,YAAK,SAAS,CAAC,YAAf,uBACC,iBAAU,SAAS,CAAC,gDAApB,CACU,WAAW,CAAC,oBADtB,CAC2C,IAAI,CAAC,GADhD,CACoD,KAAK,CAAEF,OAD3D,CAEU,QAAQ,CAAE,kBAACG,CAAD,QAAOF,WAAU,CAACE,CAAC,CAACU,MAAF,CAASC,KAAV,CAAjB,EAFpB,EADD,EADD,cAMC,YAAK,SAAS,CAAC,aAAf,uBAEC,eAAQ,SAAS,CAAC,wBAAlB,CAA2C,IAAI,CAAC,QAAhD,2BAFD,EAND,GADD,EADD,CAgBA,CAtCD,CAwCA,cAAepB,YAAf"},"metadata":{},"sourceType":"module"}